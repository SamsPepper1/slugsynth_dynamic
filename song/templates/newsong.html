{% extends 'songBase.html' %}
{% block initialiseScript %}    
		var sampleRate = 44100

currentSong = false;
	scales = { 
	    'Ma': [1, 9.0/8, 5.0/4.0, 4.0/3.0, 3.0/2.0, 5.0/3, 15.0/8, 2.0], 
	    'Mi': [1, 9.0/8.0, 6.0/5.0, 4.0/3.0, 3.0/2.0, 8.0/5.0, 9.0/5.0, 2.0],
	    'mPent': [1, 6.0/5.0, 4.0/3.0, 3.0/2.0, 9.0/5.0, 2.0, 12.0/5.0, 8.0/3.0 ,3.0, 18.0/5.0, 4.0],
	    'MPent': [1, 9.0/8.0, 5.0/4.0, 3.0/2.0, 5.0/3.0, 2.0, 9.0/4.0, 5.0/2.0, 3.0, 10.0/3.0, 4.0]
	    }

       

	var dataArray,
	    start,
	audio,
	all
	var STATIC_URL = {{ STATIC_URL }};
	var player = {% if user.is_authenticated %}'{{user.username}}'{% else %}undefined;
{% endif %}
{% endblock %}
{% block onloadScript %}

	window.onload = function() {
			
   			};
{% endblock %}

{% block header_block %}
	<div id="songHeader">
		<h3>loading song...</h3>
		<p></p>
	</div>
{% endblock %}


{% block extra_content %}
	<div class="coverall " id="songOptionsBgrnd">
		<div id="songOptions">
			<h3>New Song</h3>
			<div class="songOptionField">
				<label for="title">Title</label>
				<input id="titleInput" name="title" type="text">
			</div>	
	
			<div class="songOptionField">
				<label for="tempo">Tempo</label>
				<input id="tempoInput" name="tempo" type="text">
			</div>

			<div class="songOptionField">
				<label for="scale">Scale</label>
				<select id="scaleInput" name="scale">
					<option value="Ma">Major</option>
					<option value="Mi">Minor</option>
					<option value="MPent">Major Pentatonic</option>
					<option value="mPent">Minor Pentatonic</option>
				</select>
			</div>

			<div class="songOptionField">
				<label for="baseFreq">Key</label>
				<select id="baseFreqInput" name="baseFreq">
					<option value="16.523">C</option>
					<option value="17.32">C#</option>
					<option value="18.35">D</option>
					<option value="19.45">Eb</option>
					<option value="20.6">E</option>
					<option value="21.83">F</option>
					<option value="23.12">F#</option>
					<option value="24.5">G</option>
					<option value="25.69">G#</option>
					<option value="27.5">A</option>
					<option value="29.14">Bb</option>
					<option value="30.87">B</option>
				</select>
			</div>


			<div class="songOptionField">
				<label for="length">Length</label>
				<select id="lengthInput" name="length">
					<option>8</option>
					<option>9</option>
					<option>12</option>
					<option>16</option>
					<option>24</option>
					<option>32</option>
					<option>40</option>
					<option>48</option>
					<option>64</option>
				</select>
			</div>


			<input type="button" value="GO!" onclick="getDefaultPlayerSlugs(newSong,{'playerName': player})"; 
>
		</div>
	</div>
{% endblock %}
